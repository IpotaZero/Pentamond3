<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="css/PageManager.css" />
        <link rel="stylesheet" href="css/PageLayout.css" />
        <link rel="stylesheet" href="css/PageAnimation.css" />
        <link rel="stylesheet" href="css/TalkLayout.css" />
        <link rel="stylesheet" href="css/SelectLayout.css" />
        <link rel="shortcut icon" href="assets/icon/PentamondIcon.png" type="image/x-icon" />
        <title>Pentamond</title>
    </head>
    <body data-initial-page="pageStart">
        <div id="invalidPanel">
            <div class="label">NowLoading......</div>
            <div id="lordingCircle"></div>
        </div>

        <div class="page" id="pageStart">
            <!-- prettier-ignore -->
            <div class="label autoDynamicText" id="pageStartLabel">Press any key to start!</div>
        </div>

        <div class="page" id="title">
            <div class="label headingLabel">Pentamond</div>
            <div class="selectWithDescription">
                <div class="selectWithDescriptionOptions">
                    <button data-page="soloStageSelect" data-mapping="[0,0]">ひとりで</button>
                    <button data-page="multiStageSelect" data-mapping="[0,1]">みんなで</button>
                    <button data-page="tutorial" data-mapping="[0,2]">養成所</button>
                    <button data-page="settings" data-mapping="[0,3]">設定</button>
                    <button data-page="others" data-mapping="[0,4]">その他</button>
                </div>
                <div class="selectOptionDescriptions">
                    <div>
                        <div class="text">ひとりでとことん遊べるよ！</div>
                    </div>
                    <div>
                        <div class="text">みんなで対戦しよう！</div>
                    </div>
                    <div>
                        <div class="text">まずは遊び方を覚えよう！</div>
                    </div>
                    <div>
                        <div class="text">音楽、コントローラー、ゲームルールなどを変更できるよ！</div>
                    </div>
                    <div>
                        <div class="text">
                            分からないことがあるときのヘルプ、<br />
                            リプレイやランキングが見られる統計は<br />
                            こちらから！
                        </div>
                    </div>
                </div>
            </div>
            <button class="back" data-mapping="[0,5]">戻る</button>
        </div>

        <div class="page" id="others">
            <div class="label headingLabel">その他</div>
            <div class="selectWithDescription">
                <div class="selectWithDescriptionOptions">
                    <button data-page="help" data-mapping="[0,0]">ヘルプ</button>
                    <button data-page="statistics" data-mapping="[0,1]">統計</button>
                </div>
                <div class="selectOptionDescriptions">
                    <div>
                        <div class="text">
                            困ったときはここを読んでね！<br />
                            役一覧、操作方法、ゲームやルールの説明など。
                        </div>
                    </div>
                    <div>
                        <div class="text">今までどれだけプレイしたか覗いてみよう！</div>
                    </div>
                </div>
            </div>
            <button class="back" data-mapping="[0,2]">戻る</button>
        </div>

        <div class="page" id="soloStageSelect">
            <div class="label headingLabel">ひとりで</div>
            <div class="selectWithDescription">
                <div class="selectWithDescriptionOptions">
                    <button data-page="playerRegister" data-mapping="[0,0]" data-mode="1" data-player="1">サバイバル</button>
                    <button data-page="playerRegister" data-mapping="[0,1]" data-mode="2" data-player="1">十五列揃え</button>
                </div>
                <div class="selectOptionDescriptions">
                    <div>
                        <div class="text">
                            基本的なモード。<br />
                            タイムがなくなるまで役を揃え続けよう！
                        </div>
                    </div>
                    <div>
                        <div class="text">
                            一列揃えのタイムアタック。<br />
                            自分の限界に挑戦しよう！
                        </div>
                    </div>
                </div>
            </div>
            <button class="back" data-mapping="[0,2]">戻る</button>
        </div>

        <div class="page" id="multiStageSelect">
            <div class="label headingLabel">みんなで</div>
            <div class="selectWithDescription">
                <div class="selectWithDescriptionOptions">
                    <button data-page="playerNumberSelect" data-mapping="[0,0]" data-mode="1">サバイバル</button>
                    <button data-page="playerNumberSelect" data-mapping="[0,1]" data-mode="2">十五列揃え</button>
                </div>
                <div class="selectOptionDescriptions">
                    <div>
                        <div class="text">
                            基本的な対戦モード。<br />
                            役を揃えて最後まで生き残り続けよう！
                        </div>
                    </div>
                    <div>
                        <div class="text">
                            一列揃えのタイムアタック。<br />
                            相手よりも速く揃えよう！
                        </div>
                    </div>
                </div>
            </div>
            <button class="back" data-mapping="[0,2]">戻る</button>
        </div>

        <div class="page" id="playerNumberSelect" data-layer="3">
            <div class="label headingLabel">人数選択</div>
            <div class="text">プレイする人数を選択してください</div>
            <div class="options" data-direction="row">
                <button data-page="playerRegister" data-mapping="[0,0]" data-player="2">2人</button>
                <button data-page="playerRegister" data-mapping="[1,0]" data-player="3">3人</button>
                <button data-page="playerRegister" data-mapping="[2,0]" data-player="4">4人</button>
            </div>
            <button class="back" data-mapping="[-1,1]">戻る</button>
        </div>

        <div class="page" id="playPrepare">
            <div class="label headingLabel">プレイ準備</div>
            <div class="options">
                <button class="playStart" data-mapping="[0,0]">スタート!</button>
            </div>
            <button class="back" data-mapping="[0,1]">戻る</button>
        </div>

        <div class="page" id="play">
            <div id="playBackground"></div>
        </div>

        <div class="page" id="pause" data-layer="1">
            <div class="label headingLabel">ポーズ</div>
            <div class="options" data-direction="row">
                <button data-back="1" id="resumeButton" data-mapping="[0,0]">再開する</button>
                <button class="playStart" data-mapping="[1,0]">もう一度</button>
                <button data-mapping="[2,0]" data-back="2">プレイ準備</button>
            </div>
            <div class="options" data-direction="row">
                <button data-mapping="[0,1]" data-back="3">モード選択</button>
                <button data-mapping="[1,1]" data-back="-1">タイトルへ</button>
            </div>
        </div>

        <div class="page" id="replayPause" data-layer="1">
            <div class="label headingLabel">ポーズ</div>
            <div class="options" data-direction="row">
                <button data-back="1" id="replayResumeButton" data-mapping="[0,0]">再開する</button>
                <button class="replayStart" data-mapping="[1,0]">もう一度</button>
            </div>
            <div class="options" data-direction="row">
                <button data-mapping="[0,1]" data-back="2">リプレイ一覧へ</button>
                <button data-mapping="[1,1]" data-back="-1">タイトルへ</button>
            </div>
        </div>

        <div class="page" id="startEffect" data-layer="1">
            <div id="startEffectBase"></div>
        </div>

        <div class="page" id="result">
            <div class="label headingLabel">結果画面</div>
            <div class="resultLabel label"></div>
            <div class="options" data-direction="row">
                <button class="playStart" data-mapping="[0,0]">もう一度</button>
                <button data-mapping="[1,0]" data-back="2">プレイ準備</button>
                <button data-mapping="[2,0]" data-back="3">モード選択</button>
                <button data-mapping="[3,0]" data-page="detailedResult">詳細結果</button>
            </div>
            <div class="options" data-direction="row">
                <button data-mapping="[1,1]" data-back="-1">タイトルへ</button>
            </div>
            <div class="options" data-direction="row">
                <button class="saveReplayButton" data-mapping="[1,2]">保存!</button>
                <button class="saveReplayButton" data-mapping="[2,2]" data-page="statistics">リプレイ一覧へ</button>
            </div>
        </div>

        <div class="page" id="replayResult">
            <div class="label headingLabel">結果画面</div>
            <div class="resultLabel label"></div>
            <div class="options" data-direction="row">
                <button class="replayStart" data-mapping="[0,0]">もう一度</button>
                <button data-mapping="[1,0]" data-back="2">リプレイ一覧へ</button>
                <button data-mapping="[2,0]" data-back="-1">タイトルへ</button>
                <button data-mapping="[3,0]" data-page="detailedResult">詳細結果</button>
            </div>
        </div>

        <div class="page" id="detailedResult">
            <div class="label headingLabel">詳細結果</div>
            <div class="subPageController">
                <button class="subPagePrev" data-mapping="[1,0]">前へ</button>
                <div class="label subPageLabel"></div>
                <button class="subPageNext" data-mapping="[2,0]">次へ</button>
            </div>
            <button class="back" data-mapping="[0,0]">戻る</button>
        </div>

        <div class="page" id="playerRegister" data-layer="4">
            <div class="label headingLabel">コントローラー登録</div>
            <div class="text" id="registerText">登録したいコントローラーのボタンを押してください</div>
            <div id="connectionLabel"></div>
            <div class="options">
                <button id="registerButton" data-mapping="[1,0]">次へ</button>
            </div>
            <button class="back" data-mapping="[0,1]">戻る</button>
        </div>

        <div class="page" id="help">
            <div class="label headingLabel">ヘルプ</div>
            <div class="options">
                <button data-page="trickList" data-mapping="[0,0]">役一覧</button>
                <button data-page="howToPlayBasic" data-mapping="[0,1]">基本編</button>
            </div>
            <button class="back" data-mapping="[0,2]">戻る</button>
        </div>

        <div class="page" id="howToPlayBasic">
            <div class="label headingLabel">基本編</div>
            <div class="subPage">
                <div class="text">ここでは、Pentamondの基本的な遊び方を説明します</div>
            </div>
            <div class="subPage">
                <div class="text">
                    Pentamondは盤面の上に出現するブロック（モンドという）を操作してどんどん積み上げていくゲームです<br />
                    モンドは左右に移動したり、回転したりすることができます<br /><br />
                    モンドは下に移動させることもできます<br />
                    真下に移動できないときには斜め下に移動する、"<b>滑り移動</b>"をすることができます<br />
                    （ただし、これらの移動により設置されることはありません）
                </div>
            </div>
            <div class="subPage">
                <div class="text">
                    今操作しているモンドの下には影（ゴーストという）が表示されます<br />
                    モンドを"<b>設置</b>"するとこのゴーストの位置に設置されます<br /><br />
                    このとき、盤面の上に新しく次のモンドが出現します<br />
                    それを操作して設置するとさらに新しいモンドが出現します<br />
                    これを繰り返すことで自由にモンドを積み上げることができます
                </div>
            </div>
            <div class="subPage">
                <div class="text">
                    しかし、ただ積み上げても意味はありません<br />
                    Pentamondでは、モンドを使って、"<b>役</b>"という決まった形を作ると<br />
                    たくさんのスコアが貰えたり、相手に攻撃できたり……<br />
                    いいことがたくさんあるので、どんどん役を揃えていきましょう<br /><br />
                    役は一列ごとに判定されます<br />
                    役の形はモード選択→ヘルプ→役一覧などから確認できます<br />
                </div>
            </div>
            <div class="subPage">
                <div class="text">
                    "<b>消去</b>"を行うと、盤面の一番下の列を消すことができます<br />
                    揃えたブロックの形が役として認められるにはその役を消去する必要があります<br />
                    役が成立している列を連続して消去するとChainというボーナスが貰えます<br />
                    モンドをたくさん積み上げて一気に消すとより高いスコアを目指すことができます
                </div>
            </div>
            <div class="subPage">
                <div class="text">
                    Pentamondの基本的なモードでは制限時間があります<br />
                    この残り時間がなくなるとゲームオーバーです<br />
                    ただし、役を揃えることで残り時間を回復することができます<br />
                    消去はいつでも行うことができますが、役が成立していない列を連続して<br />
                    消去すると残り時間が減らされてしまうので注意しましょう
                </div>
            </div>
            <div class="subPage">
                <div class="text">
                    まとめとしては、モンドを操作して役を揃えそれを消去するゲームです<br /><br />
                    もっと詳しく知りたい場合は応用編をご覧ください<br />
                    各モードの遊び方についてはソロモード編、マルチモード編をご覧ください<br />
                    モンドの操作、設置、消去などの操作方法については<br />
                    モード選択→ヘルプ→操作方法をご覧ください
                </div>
            </div>
            <div class="subPageController">
                <button class="subPagePrev" data-mapping="[1,0]">前へ</button>
                <div class="label subPageLabel"></div>
                <button class="subPageNext" data-mapping="[2,0]">次へ</button>
            </div>
            <button class="back" data-mapping="[0,0]">戻る</button>
        </div>

        <div class="page" id="statistics">
            <div class="label headingLabel">統計</div>
            <div class="selectWithDescription">
                <div class="selectWithDescriptionOptions">
                    <button data-page="replay" data-mapping="[0,0]">直近のリプレイ</button>
                    <button data-page="savedReplay" data-mapping="[0,1]">保存したリプレイ</button>
                    <button data-page="statistics" data-mapping="[0,2]">情報</button>
                    <button data-page="ranking" data-mapping="[0,3]">ランキング</button>
                    <button data-page="mission" data-mapping="[0,4]">ミッション</button>
                </div>
                <div class="selectOptionDescriptions">
                    <div>
                        <div class="text">
                            最近のプレイを最大で10件まで見れるよ！<br />
                            保存しないと消えちゃうので注意！
                        </div>
                    </div>
                    <div>
                        <div class="text">お気に入りのプレイを最大で10件まで保存できるよ！</div>
                    </div>
                    <div>
                        <div class="text"></div>
                    </div>
                    <div>
                        <div class="text"></div>
                    </div>
                    <div>
                        <div class="text"></div>
                    </div>
                </div>
            </div>
            <button class="back" data-mapping="[0,5]">戻る</button>
        </div>

        <div class="page" id="replay">
            <div class="label headingLabel">直近のリプレイ</div>
            <div class="text">最新10件まで閲覧することができます。</div>
            <div class="options"></div>
            <button class="back" data-mapping="[0,0]">戻る</button>
        </div>

        <div class="page" id="replaySaveAlert" data-layer="1">
            <div class="popup">
                <div class="label headingLabel">保存できません</div>
                <div class="text">
                    すでに10件保存されているため<br />
                    このリプレイを保存できません。<br />
                    保存したリプレイでいずれかを削除してください。
                </div>
                <button class="back" data-mapping="[0,0]">戻る</button>
            </div>
        </div>

        <div class="page" id="replaySaveAlert2" data-layer="1">
            <div class="popup">
                <div class="label headingLabel">保存失敗</div>
                <div class="text">
                    何らかの理由により保存に失敗しました。<br />
                    ・保存したリプレイのデータサイズが極端に大きい<br />
                    ・シークレットブラウザを使用している<br />
                    などの理由が考えられます。
                </div>
                <button class="back" data-mapping="[0,0]">戻る</button>
            </div>
        </div>

        <div class="page" id="savedReplay">
            <div class="label headingLabel">保存したリプレイ</div>
            <div class="text">最大10件まで保存することができます。</div>
            <div class="options"></div>
            <button class="back" data-mapping="[0,0]">戻る</button>
        </div>

        <div class="page" id="replayDeleteAlert" data-layer="1">
            <div class="popup">
                <div class="label headingLabel">削除確認</div>
                <div class="text">このリプレイを削除します。<br /></div>
                <button class="back" data-mapping="[0,1]">戻る</button>
                <div class="options">
                    <button data-mapping="[1,0]" id="replayDeleteConfirmButton">OK！</button>
                </div>
            </div>
        </div>

        <div class="page" id="settings">
            <div class="label headingLabel">設定</div>
            <div class="selectWithDescription">
                <div class="selectWithDescriptionOptions">
                    <button data-page="musicSetting" data-mapping="[0,0]">音楽設定</button>
                    <button data-page="dataSetting" data-mapping="[0,1]">データ管理</button>
                    <button data-page="gameSetting" data-mapping="[0,2]">ゲーム設定</button>
                    <button data-page="graphicSetting" data-mapping="[0,3]">グラフィック</button>
                    <button data-page="controllerSetting" data-mapping="[0,4]">コントローラー</button>
                </div>
                <div class="selectOptionDescriptions">
                    <div>
                        <div class="text">音量や流れるBGMを変更できるよ！</div>
                    </div>
                    <div>
                        <div class="text">保存されているデータの消去ができるよ！</div>
                    </div>
                    <div>
                        <div class="text">各ゲームモードのゲームルールを設定できるよ！</div>
                    </div>
                    <div>
                        <div class="text">一部演出をOFFにして低負荷にできるよ！</div>
                    </div>
                    <div>
                        <div class="text">コントローラーのボタン割り当てを変更できるよ！</div>
                    </div>
                </div>
            </div>
            <button class="back" data-mapping="[0,5]">戻る</button>
        </div>

        <div class="page" id="musicSetting">
            <div class="label headingLabel">音楽設定</div>
            <div class="options" data-direction="row">
                <div class="rangeContainer" data-mapping="[0,0]">
                    <label for="bgmVolume">BGM:</label>
                    <input type="range" id="bgmVolume" min="0" max="10" value="10" />
                </div>
                <div class="rangeContainer" data-mapping="[1,0]">
                    <label for="seVolume">SE:</label>
                    <input type="range" id="seVolume" min="0" max="10" value="10" />
                </div>
            </div>
            <div class="options" data-direction="row">
                <div class="selectorPanel" data-mapping="[0,1]">
                    <div class="label">ソロ</div>
                    <select class="selector">
                        <option value="0">なし</option>
                        <option value="1" selected>ならべてトライアングル</option>
                        <option value="2">さよならさんかく</option>
                        <option value="3">つみきのおしろ</option>
                        <option value="4">Top of the Pyramid</option>
                        <option value="5">おかたづけ</option>
                    </select>
                </div>
                <div class="selectorPanel" data-mapping="[1,1]">
                    <div class="label">マルチ</div>
                    <select class="selector">
                        <option value="0">なし</option>
                        <option value="1">ならべてトライアングル</option>
                        <option value="2">さよならさんかく</option>
                        <option value="3">つみきのおしろ</option>
                        <option value="4" selected>Top of the Pyramid</option>
                        <option value="5">おかたづけ</option>
                    </select>
                </div>
            </div>

            <button class="back" data-mapping="[0,5]">戻る</button>
        </div>

        <div class="page" id="graphicSetting">
            <div class="label headingLabel">グラフィック設定</div>
            <div class="options" data-direction="row">
                <div class="label">設置時演出</div>
                <button id="putShakeOn" data-mapping="[0,0]">ON</button>
                <button id="putShakeOff" data-mapping="[1,0]">OFF</button>
            </div>
            <div class="options" data-direction="row">
                <div class="label">消去時演出</div>
                <button id="removeShakeOn" data-mapping="[0,1]">ON</button>
                <button id="removeShakeOff" data-mapping="[1,1]">OFF</button>
            </div>
            <div class="options" data-direction="row">
                <div class="label">プレイ時背景</div>
                <button id="playBackgroundOn" data-mapping="[0,2]">ON</button>
                <button id="playBackgroundOff" data-mapping="[1,2]">OFF</button>
            </div>
            <button class="back" data-mapping="[0,3]">戻る</button>
        </div>

        <div class="page" id="dataSetting">
            <div class="label headingLabel">データ管理</div>
            <div class="label" id="dataInformation"></div>
            <div class="options" data-direction="row">
                <button data-page="allDataDeleteAlert" data-mapping="[0,0]">全データを削除する</button>
            </div>
            <button class="back" data-mapping="[0,1]">戻る</button>
        </div>

        <div class="page" id="allDataDeleteAlert" data-layer="1">
            <div class="popup">
                <div class="label headingLabel">削除確認</div>
                <div class="text">全てのデータを削除します。<br /></div>
                <button class="back" data-mapping="[0,1]">戻る</button>
                <div class="options">
                    <button data-mapping="[1,0]" id="allDataDeleteConfirmButton">OK！</button>
                </div>
            </div>
        </div>

        <script src="dist/Run.js" type="module"></script>
    </body>
</html>
